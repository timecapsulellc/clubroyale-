# ClubRoyale ğŸƒ

> **Play & Connect** - A premium social gaming platform with classic card games, voice rooms, stories, and community features. Powered by **Agentic AI** with **Tree of Thoughts** reasoning.

[![Live](https://img.shields.io/badge/Live-clubroyale--app.web.app-brightgreen)](https://clubroyale-app.web.app)
[![Android](https://img.shields.io/badge/Android-APK%20Ready-green)](./build/app/outputs/flutter-apk/app-release.apk)
[![Tests](https://img.shields.io/badge/Tests-169%20Passing-brightgreen)](./test)
[![AI Agents](https://img.shields.io/badge/AI%20Agents-12%20Active-blueviolet)]()
[![Cognitive Bots](https://img.shields.io/badge/Bot%20Personalities-5%20Unique-purple)]()
[![ToT](https://img.shields.io/badge/Reasoning-Tree%20of%20Thoughts-orange)]()
[![Score](https://img.shields.io/badge/Quality%20Score-100%2F100-blue)]()

---

## ğŸ® What is ClubRoyale?

ClubRoyale is a **Play & Connect** social gaming platform that combines classic card games with modern social features. It's not just about playing gamesâ€”it's about connecting with friends, sharing moments, and being part of a gaming community.

### ğŸ§  Powered by Agentic AI
ClubRoyale features **12 Autonomous AI Agents** using **Tree of Thoughts (ToT)** reasoning for advanced capabilities:
- **Director Agent**: Orchestrates game flow and user experience.
- **Safety Agent**: Context-aware moderation with 3-step reasoning.
- **Recommendation Agent**: 4-dimensional game and friend suggestions.
- **Analytics Agent**: Predictive engagement modeling.

### For Players
- ğŸƒ **4 Premium Games**: Royal Meld (Marriage), Call Break, Teen Patti, In-Between
- ğŸ“£ **Social Hub**: Chat, Stories, Activity Feed, Online Friends Bar
- ğŸ™ï¸ **Voice Rooms**: Live audio chat during games and hangouts
- ğŸ‘¥ **Clubs & Communities**: Join gaming clubs with leaderboards
- ğŸ‘€ **Spectator Mode**: Watch live games with friends
- ğŸ† **Tournaments**: Compete in bracket-style tournaments
- ğŸ“± **Cross-Platform**: Web PWA, Android (iOS ready)
- ğŸ¨ **5 Beautiful Themes**: Royal Green, Purple, Blue, Crimson, Emerald

### For Hosts
- ğŸ  **Private Rooms**: Share 6-digit codes with friends
- ğŸ’ **Diamond Economy**: Earn free diamonds through social activities
- ğŸ“Š **Auto Settlement**: Calculate "who owes whom" instantly
- ğŸ“¤ **Share Results**: Export to WhatsApp or post to Story

---

## ğŸš€ Quick Start

```bash
# Clone the repository
git clone https://github.com/timecapsulellc/TaasClub.git
cd ClubRoyale

# Install dependencies
flutter pub get

# Run on Chrome (Web)
flutter run -d chrome --web-port 8081

# Build Android APK
flutter build apk --release

# Build Web (Production)
flutter build web
```

---

## ğŸ“Š Project Status (December 20, 2025)

| Metric | Value |
|--------|-------|
| **Status** | ğŸŸ¢ Production Ready (v2.1) |
| **Quality Score** | 100/100 |
| **Dart Files** | 250+ |
| **Lines of Code** | 70,000+ |
| **Tests Passing** | 169/169 (100%) |
| **Cloud Functions** | 30+ Deployed |
| **AI Agents** | 12 Autonomous Agents |
| **Bot Personalities** | 5 Cognitive Bots |
| **AI Reasoning** | Tree of Thoughts (ToT) |
| **Development Phases** | 21 Complete |

### Platform Availability

| Platform | Status | Access |
|----------|--------|--------|
| **Web PWA** | ğŸŸ¢ Live | [clubroyale-app.web.app](https://clubroyale-app.web.app) |
| **Android** | âœ… Ready | APK in `build/` folder |
| **iOS** | â³ Coming Soon | Firebase configured |

---

## âœ… Completed Development Phases

### Phase 1-7: Core Foundation
| Phase | Feature | Status |
|-------|---------|--------|
| 1 | Read Receipts (Blue Ticks) | âœ… Complete |
| 2 | Diamond Gift Messages | âœ… Complete |
| 3 | Auto Game Result Stories | âœ… Complete |
| 4 | In-Game Social Overlay | âœ… Complete |
| 5 | Spectator Mode | âœ… Complete |
| 6 | Group Video Calls (1-8 players) | âœ… Complete |
| 7 | Cloud Function Triggers | âœ… Complete |

### Phase 15-18: Verification & Polish
| Phase | Feature | Status |
|-------|---------|--------|
| 15 | Firebase Cloud Functions Deployment | âœ… Complete |
| 16 | Admin Chat, Voice Room Token, Sound Effects | âœ… Complete |
| 17 | Final Audit, Analytics Integration | âœ… Complete |
| 18 | Diamond Revenue Method V5 | âœ… Complete |

### Phase 19-21: AI & Production (NEW)
| Component | Description | Status |
|-----------|-------------|--------|
| **Agentic AI** | 12 Agents (Director, Safety, Recs, etc.) | âœ… |
| **Tree of Thoughts** | Multi-step reasoning engine | âœ… |
| **Production Build** | Signed Android APK, Web PWA | âœ… |
| **Compliance** | CORS Fixes, Firestore Rules | âœ… |
| **AI Gaming Platform** | 5 Cognitive Bot Personalities | âœ… |
| **Instant Play** | Pre-seeded bot rooms, Play Now button | âœ… |
| **Documentation** | Full technical docs update | âœ… |

---

## ğŸ¯ Complete Feature List

### ğŸ“± Social-First Features (NEW!)
| Feature | Description |
|---------|-------------|
| **Onboarding ("Play & Connect")** | Social-first welcome flow highlighting community |
| **Activity Feed** | Social feed with game results, friend activities |
| **Stories** | Share game highlights, 24-hour expiring stories |
| **Online Friends Bar** | See who's online, quick invite to games |
| **Quick Social Actions** | One-tap access to Chat, Friends, Activity |
| **Voice Rooms** | Live audio during games and hangouts |
| **Clubs** | Gaming communities with leaderboards |
| **Spectator Mode** | Watch live games, spectator count badge |
| **Game Invites** | In-chat game invitations |
| **Diamond Gifts** | Send diamonds with animated messages |
| **Reply to Messages** | Quote and reply to chat messages |
| **Read Receipts** | Blue tick indicators (sent/delivered/read) |

### ğŸƒ Card Games (4 Complete)
| Game | Players | AI Bots | Status |
|------|---------|---------|--------|
| **Royal Meld** (Marriage) | 2-8 | âœ… ToT AI | ğŸŸ¢ Complete |
| **Call Break** | 4 | âœ… ToT AI | ğŸŸ¢ Complete |
| **Teen Patti** | 2-8 | âœ… ToT AI | ğŸŸ¢ Complete |
| **In-Between** | 2-6 | âœ… ToT AI | ğŸŸ¢ Complete |

### ğŸ’ Diamond Economy V5
| Earn Method | Diamonds | Daily Cap |
|-------------|----------|-----------|
| Welcome Bonus | 100 ğŸ’ | Once |
| Daily Login | 10 ğŸ’ | 1x/day |
| Watch Ad | 20 ğŸ’ | 6x/day |
| Complete Game | 5 ğŸ’ | Unlimited |
| Voice Room Host (15 min) | 5 ğŸ’ | 30 ğŸ’/day |
| Story Views (10 views) | 2 ğŸ’ | 20 ğŸ’/day |
| Game Invite Accepted | 3 ğŸ’ | 15 ğŸ’/day |

### ğŸ™ï¸ Voice & Video
| Feature | Status |
|---------|--------|
| WebRTC Voice Chat | âœ… |
| LiveKit Video Calls | âœ… |
| 1-8 Player Video Grid | âœ… |
| Speaking Indicators | âœ… |
| Mute/Unmute Controls | âœ… |

### ğŸ—ï¸ Core Infrastructure
| Feature | Status |
|---------|--------|
| Lobby System (6-digit codes) | âœ… |
| ELO Matchmaking | âœ… |
| Real-time Chat | âœ… |
| Settlement Calculator | âœ… |
| Anti-Cheat (Server-side) | âœ… |
| AI Moderation (ToT Safety) | âœ… |
| Tournaments (Bracket System) | âœ… |
| Replay System | âœ… |
| 21 Achievement Badges | âœ… |
| Push Notifications (FCM) | âœ… |
| PWA (Installable) | âœ… |

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUTTER FRONTEND                             â”‚
â”‚  â€¢ 4 Game Engines  â€¢ 35+ Feature Modules  â€¢ 5 Theme Presets     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    STATE (Riverpod 3.x)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    SERVICE LAYER (30+ Services)                 â”‚
â”‚  â€¢ AuthService  â€¢ SocialService  â€¢ DiamondService  â€¢ Agents     â”‚
â”‚  â€¢ StoryService â€¢ SpectatorService â€¢ PresenceService â€¢ Chat     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIREBASE BACKEND                             â”‚
â”‚  â€¢ Firestore DB  â€¢ Auth  â€¢ 30+ Cloud Functions  â€¢ Storage      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    AI LAYER (Agentic AI + ToT)                  â”‚
â”‚  â€¢ 12 Agents (Safety, Recs, Analytics, Content, etc.)           â”‚
â”‚  â€¢ Tree of Thoughts Reasoning Engine                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    CLOUD FUNCTIONS                              â”‚
â”‚  â€¢ Social Triggers  â€¢ Diamond Rewards  â€¢ Scheduled Jobs         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Service Files

| Service | Purpose | Location |
|---------|---------|----------|
| `social_service.dart` | Chat, messages, social operations | `lib/features/social/services/` |
| `presence_service.dart` | Online status tracking | `lib/features/social/services/` |
| `social_diamond_service.dart` | Social diamond rewards | `lib/features/wallet/` |
| `agent_services.dart` | 12 AI Agent Clients | `lib/features/agents/services/` |
| `voice_room_service.dart` | Voice chat rooms | `lib/features/social/services/` |

---

## ğŸ”® Roadmap: What's Next

### Immediate (Jan 2026)
- [ ] iOS App Store Release
- [ ] Performance optimization for low-end devices
- [ ] Advanced club management features
- [ ] Tournament prizes and rewards

### Short-Term (Q1 2026)
- [ ] Seasonal events and limited-time games
- [ ] Profile customization (avatars, frames)
- [ ] Enhanced achievement system
- [ ] Community moderation tools

### Medium-Term (Q2 2026)
- [ ] Regional game variants (Nepali, Indian versions)
- [ ] Team tournaments
- [ ] Creator program for content creators
- [ ] API for third-party integrations

### Long-Term Vision
- [ ] More card games (Rummy, Poker variants)
- [ ] Cross-promotional features with other apps
- [ ] White-label solution for private clubs
- [ ] AI-powered game coaching

---

## ğŸ“ Project Structure

```
ClubRoyale/
â”œâ”€â”€ lib/                          # Flutter app (250+ files, 70K+ LOC)
â”‚   â”œâ”€â”€ core/                     # Shared utilities
â”‚   â”‚   â”œâ”€â”€ theme/                # Multi-theme system
â”‚   â”‚   â”œâ”€â”€ config/               # Diamond config, game terminology
â”‚   â”‚   â”œâ”€â”€ widgets/              # Common widgets
â”‚   â”‚   â””â”€â”€ services/             # Analytics, share, deferred
â”‚   â”œâ”€â”€ features/                 # Feature modules (35+ modules)
â”‚   â”‚   â”œâ”€â”€ auth/                 # Authentication
â”‚   â”‚   â”œâ”€â”€ lobby/                # Room management
â”‚   â”‚   â”œâ”€â”€ social/               # Chat, friends, presence, voice
â”‚   â”‚   â”œâ”€â”€ agents/               # AI Agent Clients (NEW)
â”‚   â”‚   â”œâ”€â”€ stories/              # Stories feature
â”‚   â”‚   â”œâ”€â”€ wallet/               # Diamond economy
â”‚   â”‚   â”œâ”€â”€ game/                 # Game screens, overlays, spectator
â”‚   â”‚   â”œâ”€â”€ clubs/                # Club system
â”‚   â”‚   â”œâ”€â”€ tournament/           # Tournament system
â”‚   â”‚   â”œâ”€â”€ replay/               # Game replay
â”‚   â”‚   â”œâ”€â”€ profile/              # User profiles
â”‚   â”‚   â”œâ”€â”€ onboarding/           # First-run experience
â”‚   â”‚   â”œâ”€â”€ settings/             # Settings & themes
â”‚   â”‚   â””â”€â”€ admin/                # Admin panel
â”‚   â””â”€â”€ games/                    # Game engines (4 games)
â”‚       â”œâ”€â”€ marriage/             # Royal Meld
â”‚       â”œâ”€â”€ call_break/           # Call Break
â”‚       â”œâ”€â”€ teen_patti/           # Teen Patti
â”‚       â””â”€â”€ in_between/           # In-Between
â”œâ”€â”€ functions/                    # Cloud Functions (30+ functions)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ agents/               # 12 AI Agents + ToT (NEW)
â”‚       â”œâ”€â”€ genkit/               # Legacy AI flows
â”‚       â”œâ”€â”€ triggers/             # Firestore triggers
â”‚       â””â”€â”€ rewards/              # Social diamond rewards
â”œâ”€â”€ web/                          # PWA assets
â”œâ”€â”€ android/                      # Android platform
â”œâ”€â”€ ios/                          # iOS platform
â”œâ”€â”€ test/                         # Test files
â””â”€â”€ docs/                         # 40+ documentation files
```

---

## ğŸ“š Documentation

| Category | Documents |
|----------|-----------|
| **Strategy** | [PRD](./docs/PRD_CLUBROYALE.md), [Roadmap](./docs/ULTIMATE_ROADMAP.md), [Audit](./docs/ULTIMATE_AUDIT_REPORT.md) |
| **Architecture** | [Architecture Audit](./docs/ARCHITECTURE_AUDIT.md), [Tech Summary](./docs/PROJECT_TECHNICAL_SUMMARY.md) |
| **Games** | [Marriage Rules](./docs/MARRIAGE_GAME_SPEC.md), [Game SDK](./docs/GAME_ENGINE_SDK.md) |
| **Legal** | [Privacy Policy](./docs/PRIVACY_POLICY.md), [Terms](./docs/TERMS_OF_SERVICE.md), [Data Safety](./docs/DATA_SAFETY_DECLARATION.md) |
| **Setup** | [FCM](./docs/FCM_SETUP.md), [LiveKit](./docs/LIVEKIT_SETUP.md), [Deep Links](./docs/DEEP_LINKS_SETUP.md) |
| **Store** | [Listing](./docs/STORE_LISTING.md), [Assets](./docs/STORE_ASSETS.md), [Brand](./docs/BRAND_STYLE_GUIDE.md) |

---

## ğŸ”§ Tech Stack

| Layer | Technology |
|-------|------------|
| **Framework** | Flutter 3.38.4 |
| **Language** | Dart 3.10 (null-safe) |
| **State** | Riverpod 3.x |
| **Routing** | GoRouter |
| **Backend** | Firebase (Firestore, Auth, Functions, Storage, FCM) |
| **AI/ML** | Agentic AI + ToT (Gemini Pro) |
| **Video** | LiveKit |
| **Audio** | WebRTC + audioplayers |
| **Analytics** | Firebase Analytics + AI Prediction |

---

## ğŸ† Quality Metrics

- âœ… **169/169 tests passing** (100%)
- âœ… **Zero critical bugs**
- âœ… **Type-safe codebase** (null-safety enabled)
- âœ… **Enterprise-grade security** (server-side validation)
- âœ… **Legal compliance** (Safe Harbor model)
- âœ… **PWA optimized** (installable, offline-ready)
- âœ… **21 development phases complete**
- âœ… **30+ Cloud Functions deployed**
- âœ… **Social-first architecture**
- âœ… **AI Gaming with 5 bot personalities**

---

## ğŸ†• Recent Updates (December 20, 2025)

| Update | Description |
|--------|-------------|
| **AI Gaming Platform** | 5 Cognitive Bot Personalities (TrickMaster, CardShark, etc.) |
| **Instant Play** | Pre-seeded bot rooms for zero-wait gaming |
| **Play Now Button** | One-tap join to available AI games |
| **Bot Room Seeder** | Automated hourly room population |
| **Tree of Thoughts Bots** | Human-like decision making |
| **Lobby Badges** | Visual indicators for AI-hosted rooms |
| **AI Chat Companions** | Tips Bot, News Bot, Club Finder |
| **Featured Clubs** | Academy, Pro Arena, Casual Lounge |

**Last Updated:** December 20, 2025

---

## ğŸ“„ License

Proprietary - Metaweb Technologies

---

## ğŸ”— Links

| Resource | URL |
|----------|-----|
| **Live App** | https://clubroyale-app.web.app |
| **Firebase Console** | https://console.firebase.google.com/project/taasclub-app |
| **GitHub** | https://github.com/timecapsulellc/TaasClub |
| **Documentation** | [./docs/README.md](./docs/README.md) |
